<!DOCTYPE html>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'nonce-whitelist'">
<body>
  Setting location with <code>iframe.contentWindow.location.href</code><br/>
  <iframe id="iframe_href" src="helper"></iframe>
  <hr>
  Setting location with <code>iframe.src</code><br/>
  <iframe id="iframe_src" src="helper"></iframe>
  <script nonce="whitelist">
    const iframeHref = document.querySelector("#iframe_href");
    iframeHref.addEventListener('load', () => {
      iframeHref.contentWindow.location.href = "javascript:document.location.href='https://a.test/report/?leak=c909865-fail'";
    });
    const iframeSrc = document.querySelector("#iframe_src");
    iframeSrc.addEventListener('load', () => {
      iframeSrc.src = "javascript:document.location.href='https://a.test/report/?leak=c909865-fail'";
    });
  </script>
</body>